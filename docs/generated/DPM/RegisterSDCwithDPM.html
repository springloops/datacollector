
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="You must register a Data Collector to work with DPM . When you register a Data Collector , Data Collector generates an authentication token that it uses to issue authenticated requests to DPM . You ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Register Data Collector with DPM"></meta><meta name="abstract" content="You must register a Data Collector to work with DPM. When you register a Data Collector, Data Collector generates an authentication token that it uses to issue authenticated requests to DPM."></meta><meta name="description" content="You must register a Data Collector to work with DPM. When you register a Data Collector, Data Collector generates an authentication token that it uses to issue authenticated requests to DPM."></meta><meta name="DC.Relation" scheme="URI" content="../DPM/DPM_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_kc4_xyf_xw"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Register Data Collector with DPM</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../DPM/DPM_title.html" title="Dataflow Performance Manager">Dataflow Performance Manager</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../DPM/DPM_title.html" title="Dataflow Performance Manager"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Dataflow Performance Manager</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_kc4_xyf_xw">
 <h1 class="title topictitle1">Register Data Collector with DPM</h1>

 
 <div class="body conbody"><p class="shortdesc">You must register a <span class="ph">Data
                  Collector</span> to
        work with <span class="ph">DPM</span>. When you register a <span class="ph">Data
                  Collector</span>, <span class="ph">Data
                  Collector</span>
        generates an authentication token that it uses to issue authenticated requests to <span class="ph">DPM</span>.</p>

        <p class="p">You can register a <span class="ph">Data
                  Collector</span>
            from the <span class="ph">Data
                  Collector</span>
            console, from the command line interface, or from <span class="ph">DPM</span>.
            For instructions on registering from <span class="ph">DPM</span>,
            see the <span class="ph">DPM</span>
            online help.</p>

        <p class="p">For a Cloudera Manager installation, you must register a <span class="ph">Data
                  Collector</span>
            from Cloudera Manager.</p>

        <p class="p">After a <span class="ph">Data
                  Collector</span> is
            registered with <span class="ph">DPM</span>,
            you use a <span class="ph">DPM</span>
            user account to log in to the <span class="ph">Data
                  Collector</span>.
            Registered <span class="ph">Data
                  Collector</span>s
            belong to the organization of the user who completed the registration. All user accounts
            that belong to the same organization and that have the appropriate roles can log in to
            the registered <span class="ph">Data
                  Collector</span>s.</p>

        <p class="p">A registered <span class="ph">Data
                  Collector</span>
            communicates with <span class="ph">DPM</span> at
            regular intervals. If a <span class="ph">Data
                  Collector</span>
            cannot connect to <span class="ph">DPM</span>,
            due to a network or system outage, then the <span class="ph">Data
                  Collector</span>
            uses the <span class="ph">DPM</span>
            disconnected mode.</p>

 </div>

<div class="related-links"></div>
<div class="topic task nested1" id="task_a4y_v1g_xw">
    <h2 class="title topictitle2">Registering from Data Collector</h2>

    
    <div class="body taskbody"><p class="shortdesc">You can register a <span class="ph">Data
                  Collector</span> with
            <span class="ph">DPM</span>
        from the <span class="ph">Data
                  Collector</span> console.</p>

        <div class="section context">
            <p class="p">
                
            </p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Log in to <span class="ph">Data
                  Collector</span> using your <span class="ph">Data
                  Collector</span> user account.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Administration</span> &gt; <span class="ph uicontrol"> Enable DPM</span></span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Enter the following information in the <span class="keyword wintitle">Enable DPM</span>
                    window:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_a4y_v1g_xw__table_sld_z4l_nw" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="33.33333333333333%" id="d27523e202">Property</th>

                                    <th class="entry" valign="top" width="66.66666666666666%" id="d27523e205">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e202 "><span class="ph">DPM</span> Base URL</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e205 ">Set to:
                                        <samp class="ph codeph">https://cloud.streamsets.com/</samp></td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e202 ">User Name</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e205 ">Enter your <span class="ph">DPM</span> user name using the following
                                        format:<pre class="pre codeblock">&lt;user account name&gt;@&lt;organization name&gt;</pre>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e202 ">User Password</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e205 ">Enter the password for your <span class="ph">DPM</span> user account.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e202 ">Labels</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e205 ">Assign a label to this <span class="ph">Data
                  Collector</span>. Labels that you assign here are defined in the <span class="ph">DPM</span> configuration file,
                                            <samp class="ph codeph">$SDC_CONF/dpm.properties</samp>. To remove
                                        these labels after you register the <span class="ph">Data
                  Collector</span>, you must modify the configuration file.<p class="p">Use labels to
                                            group <span class="ph">Data
                  Collector</span>s registered with <span class="ph">DPM</span>. If you know how you want to group your <span class="ph">Data
                  Collector</span>s, you can assign labels now. Or you can assign labels
                                            in <span class="ph">DPM</span> after you register the <span class="ph">Data
                  Collector</span>.</p>
<p class="p">Defaults are label1 and label2. In most cases,
                                            you'll want to remove the default labels.</p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Save</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Restart the <span class="ph">Data
                  Collector</span> in one of the following ways:</span>
                <ul class="ul choices" id="task_a4y_v1g_xw__choices_ost_pkm_nw">
                    <li class="li choice">If you started the <span class="ph">Data
                  Collector</span> manually from the command line, click <span class="ph uicontrol">Restart Data
                            Collector</span> in the <span class="keyword wintitle">Enable DPM</span>
                        window.</li>

                    <li class="li choice">If you started the <span class="ph">Data
                  Collector</span> as a service, you must use the command line for restart. Click
                            <span class="ph uicontrol">Cancel</span> in the <span class="keyword wintitle">Enable DPM</span>
                        window, and then run the following command:
                        <pre class="pre codeblock">service sdc restart</pre>
</li>

                </ul>

                <div class="itemgroup info">When you log in to the registered <span class="ph">Data
                  Collector</span> using a <span class="ph">DPM</span> user account, the following <span class="ph">DPM</span> Enabled icon displays:<p class="p"><img class="image" id="task_a4y_v1g_xw__image_hrt_tdk_3w" src="../Graphics/SDC_DPMEnabled.png" height="64" width="714"></img></p>
</div>
            </li>
</ol>

    </div>

</div>
<div class="topic concept nested1" id="concept_js4_2z1_cx">
 <h2 class="title topictitle2">Registering from the Command Line Interface</h2>

 
 <div class="body conbody"><p class="shortdesc">You can register a <span class="ph">Data
                  Collector</span> with
            <span class="ph">DPM</span>
        from the <span class="ph">Data
                  Collector</span> command line interface. The <span class="ph">Data
                  Collector</span> must
        be running before you can use the command line interface.</p>

        <p class="p">Start <span class="ph">Data
                  Collector</span>,
            and then use the system enableDPM command to register the <span class="ph">Data
                  Collector</span>. </p>

        <div class="p">Use the command as
            follows:<pre class="pre codeblock">$SDC_DIST/bin/streamsets cli \
(-U &lt;sdcURL&gt; | --url &lt;sdcURL&gt;) \
[(-a &lt;sdcAuthType&gt; | --auth-type &lt;sdcAuthType&gt;)] \
[(-u &lt;sdcUser&gt; | --user &lt;sdcUser&gt;)] \
[(-p &lt;sdcPassword&gt; | --password &lt;sdcPassword&gt;)] \
system enableDPM \
(--dpmUrl &lt;dpmBaseURL&gt;) \
(--dpmUser &lt;dpmUserID&gt;) \
(--dpmPassword &lt;dpmUserPassword&gt;) \
[(--labels &lt;labels&gt;)]</pre>
</div>

  <div class="p">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_js4_2z1_cx__table_njq_3bb_cx" class="table" frame="border" border="1" rules="all">
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="33.33333333333333%" id="d27523e413">Enable DPM Option</th>

                            <th class="entry" valign="top" width="66.66666666666666%" id="d27523e416">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e413 ">--dpmUrl &lt;dpmBaseURL&gt;</td>

                            <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e416 ">Required. Set to:
                                <samp class="ph codeph">https://cloud.streamsets.com/</samp></td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e413 ">--dpmUser &lt;dpmUserID&gt;</td>

                            <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e416 ">Required. Enter your <span class="ph">DPM</span> user name using the following
                                format:<pre class="pre codeblock">&lt;user account name&gt;@&lt;organization name&gt;</pre>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e413 ">--dpmPassword &lt;dpmUserPassword&gt;</td>

                            <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e416 ">Required. Enter the password for your <span class="ph">DPM</span> user account.</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e413 ">--labels &lt;labels&gt;</td>

                            <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e416 ">Optional. Assign a label to this <span class="ph">Data
                  Collector</span>. You can enter multiple labels separated by commas. Labels that
                                you assign here are defined in the <span class="ph">DPM</span> configuration file, <samp class="ph codeph">$SDC_CONF/dpm.properties</samp>. To
                                remove these labels after you register the <span class="ph">Data
                  Collector</span>, you must modify the configuration file.<p class="p">Use labels to group
                                        <span class="ph">Data
                  Collector</span>s registered with <span class="ph">DPM</span>. If you know how you want to group your <span class="ph">Data
                  Collector</span>s, you can assign labels now. Or you can assign labels in <span class="ph">DPM</span> after you register the <span class="ph">Data
                  Collector</span>.</p>
<p class="p">Defaults are label1 and label2. In most cases, you'll
                                    want to remove the default labels.</p>
</td>

                        </tr>

                    </tbody>

                </table>
</div>
For example, the following command registers a <span class="ph">Data
                  Collector</span>
            with <span class="ph">DPM</span> and assigns three labels to the <span class="ph">Data
                  Collector</span>:<pre class="pre codeblock">$SDC_DIST/bin/streamsets cli -U http://localhost:18630 system enableDPM --dpmUrl https://cloud.streamsets.com/ --dpmUser alison@MyOrg --dpmPassword MyPassword --labels Finance,Accounting,Development</pre>
</div>

        <p class="p">Restart the <span class="ph">Data
                  Collector</span> to
            apply the changes. </p>

        <p class="p">When you log in to the registered <span class="ph">Data
                  Collector</span>
            using a <span class="ph">DPM</span>
            user account, the following <span class="ph">DPM</span>
            Enabled icon displays:</p>

     <p class="p"><img class="image" id="concept_js4_2z1_cx__image_hrt_tdk_3w" src="../Graphics/SDC_DPMEnabled.png" height="64" width="714"></img></p>

 </div>

</div>
<div class="topic task nested1" id="task_oxx_y5m_xw">
    <h2 class="title topictitle2">Registering from Cloudera Manager</h2>

    
    <div class="body taskbody"><p class="shortdesc">If you installed <span class="ph">Data
                  Collector</span>
        through Cloudera Manager, you must use Cloudera Manager to register the <span class="ph">Data
                  Collector</span> with
            <span class="ph">DPM</span>.</p>

        <div class="section context">
            
        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">In Cloudera Manager, select the <span class="ph uicontrol">StreamSets</span> service, then
                    click <span class="ph uicontrol">Configuration</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Enter <kbd class="ph userinput">DPM</kbd> in the search field to display the <span class="ph">DPM</span> configuration properties.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Configure the following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_oxx_y5m_xw__table_sld_z4l_nw" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="33.33333333333333%" id="d27523e611">Property</th>

                                    <th class="entry" valign="top" width="66.66666666666666%" id="d27523e614">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e611 ">Enable <span class="ph">DPM</span></td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e614 ">Select to enable <span class="ph">DPM</span>.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e611 "><span class="ph">DPM</span> URL</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e614 ">Set to:
                                        <samp class="ph codeph">https://cloud.streamsets.com/</samp></td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e611 "><span class="ph">DPM</span> User Name</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e614 ">Enter your <span class="ph">DPM</span> user name using the following
                                        format:<pre class="pre codeblock">&lt;user account name&gt;@&lt;organization name&gt;</pre>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e611 "><span class="ph">DPM</span> Password</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e614 ">Enter the password for your <span class="ph">DPM</span> user account.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d27523e611 "><span class="ph">DPM</span> Labels</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d27523e614 ">Assign a label to this <span class="ph">Data
                  Collector</span>. Labels that you assign here are defined in the <span class="ph">DPM</span> configuration file,
                                            <samp class="ph codeph">$SDC_CONF/dpm.properties</samp>. To remove
                                        these labels after you register the <span class="ph">Data
                  Collector</span>, you must modify the labels through Cloudera
                                            Manager.<p class="p">Use labels to group <span class="ph">Data
                  Collector</span>s registered with <span class="ph">DPM</span>. If you know how you want to group your <span class="ph">Data
                  Collector</span>s, you can assign labels now. Or you can assign labels
                                            in <span class="ph">DPM</span> after you register the <span class="ph">Data
                  Collector</span>.</p>
<p class="p">Defaults are label1 and label2. In most cases,
                                            you'll want to remove the default labels.</p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Save Changes</span>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph menucascade"><span class="ph uicontrol">Actions</span> &gt; <span class="ph uicontrol"> Restart</span></span> to restart the <span class="ph">Data
                  Collector</span>.</span>
                <div class="itemgroup info">When you log in to the registered <span class="ph">Data
                  Collector</span> using a <span class="ph">DPM</span> user account, the following <span class="ph">DPM</span> Enabled icon displays:<p class="p"><img class="image" id="task_oxx_y5m_xw__image_hrt_tdk_3w" src="../Graphics/SDC_DPMEnabled.png" height="64" width="714"></img></p>
</div>
            </li>
</ol>

    </div>

</div>
<div class="topic concept nested1" id="concept_t2f_m1g_jx">
 <h2 class="title topictitle2">Disconnected Mode</h2>

 
 <div class="body conbody"><p class="shortdesc">After a <span class="ph">Data
                  Collector</span> is
        registered with <span class="ph">DPM</span>, the
            <span class="ph">Data
                  Collector</span>
        communicates with <span class="ph">DPM</span> at
        regular intervals - around every 30 seconds or less. If a <span class="ph">Data
                  Collector</span> cannot
        connect to <span class="ph">DPM</span>, due to
        a network or system outage, then the <span class="ph">Data
                  Collector</span> uses
        the <span class="ph">DPM</span>
        disconnected mode.</p>

        <p class="p">In disconnected mode, you can still log into and use
                <span class="ph">Data
                  Collector</span>. However, you cannot publish pipelines to <span class="ph">DPM</span>,
            view pipeline commit history, or download published pipelines from <span class="ph">DPM</span>.
            When the <span class="ph">Data
                  Collector</span>
            can connect to <span class="ph">DPM</span>
            again, it switches back to the <span class="ph">DPM</span>
            enabled mode - and then you can continue to manage how pipelines work with <span class="ph">DPM</span>.</p>

        <p class="p">If a <span class="ph">Data
                  Collector</span> switches to disconnected mode while you are logged in, <span class="ph">Data
                  Collector</span>
            requires that you log in again with your <span class="ph">DPM</span>
            user account. After you log in, the following Disconnected Mode icon displays:</p>

        <p class="p"><img class="image" id="concept_t2f_m1g_jx__image_ztz_bkg_jx" src="../Graphics/SDC_DPMDisconnected.png" height="57" width="793"></img></p>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../DPM/DPM_title.html" title="Dataflow Performance Manager"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Dataflow Performance Manager</span></a></span>  </div><div class="footer"><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>